(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-fooddetail-fooddetail"],{"0c65":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("0f84").default,shareBtn:i("6762").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"items"},[i("v-uni-view",{staticClass:"food-head"},[i("v-uni-image",{attrs:{src:t.details.imgSmall},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImg(t.details.imgSmall)}}}),i("v-uni-view",{staticClass:"food-name"},[i("v-uni-view",{staticClass:"name-txt"},[t._v(" "+t._s(t.details.name)+" ")])],1)],1),i("v-uni-view",{staticClass:"food-inrduc"},[i("v-uni-view",{staticClass:"inrduc-center"},[i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"txt",staticStyle:{color:"#000000"}},[t._v("菜谱简介")]),i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"fuhao"},[t._v("▼")])],1),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.details.introduction))])],1),i("v-uni-view",{staticClass:"meterials"},[i("v-uni-view",{staticClass:"inrduc-center"},[i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"txt"},[t._v("用料")]),i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"fuhao"},[t._v("▼")])],1),t._l(t.accessory,(function(e){return i("v-uni-view",{key:e.id,staticClass:"food-ingred",attrs:{mode:"widthFix"}},[i("v-uni-text",[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"text-right"},[t._v(t._s(e.standardWeight+e.standardUnit))])],1)})),t._l(t.main,(function(e){return i("v-uni-view",{key:e.id,staticClass:"food-ingred",attrs:{mode:"widthFix"}},[i("v-uni-text",[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"text-right"},[t._v(t._s(e.standardWeight+e.standardUnit))])],1)}))],2),i("v-uni-view",{staticClass:"food-step"},[i("v-uni-view",{staticClass:"inrduc-center"},[i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"txt"},[t._v("备菜步骤")]),i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"fuhao"},[t._v("▼")])],1),t._l(t.prepare,(function(e){return i("v-uni-view",{key:e.id,staticClass:"prepare"},[i("v-uni-image",{attrs:{src:e.imgUrl,mode:""}}),i("v-uni-view",{staticClass:"steps"},[i("v-uni-text",{staticStyle:{color:"orange","font-size":"30px"}},[t._v(t._s(e.no))]),i("v-uni-text",[t._v("/")]),i("v-uni-text",{staticStyle:{color:"orange"}},[t._v(t._s(t.prepare.length))]),i("v-uni-view",{staticClass:"desc"},[t._v(t._s(e.desc))])],1)],1)})),i("v-uni-view",{staticClass:"inrduc-center"},[i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"txt"},[t._v("做法步骤")]),i("v-uni-text",{staticClass:"online"},[t._v("——")]),i("v-uni-text",{staticClass:"fuhao"},[t._v("▼")])],1),t._l(t.step1,(function(e){return i("v-uni-view",{key:e.id,staticClass:"prepare"},[i("v-uni-image",{attrs:{src:e.image,mode:""}}),i("v-uni-view",{staticClass:"steps"},[i("v-uni-text",{staticStyle:{color:"orange","font-size":"30px"}},[t._v(t._s(e.no-t.n))]),i("v-uni-text",[t._v("/")]),i("v-uni-text",{staticStyle:{color:"orange"}},[t._v(t._s(t.len-t.n))]),i("v-uni-view",[t._v(t._s(e.desc))])],1)],1)})),i("v-uni-view",{staticClass:"footer"}),i("v-uni-view",{staticClass:"goods_nav"},[i("v-uni-view",{staticClass:"tab"},[i("v-uni-view",{staticClass:"tab_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleflag.apply(void 0,arguments)}}},[t.flag?t._e():i("uni-icons",{attrs:{type:"heart",size:"20"}}),t.flag?i("uni-icons",{attrs:{type:"heart-filled",size:"20",color:"red"}}):t._e(),i("v-uni-view",[t._v("收藏")])],1),i("v-uni-view",{staticClass:"tab_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goIndex.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"home",size:"20"}}),i("v-uni-view",[t._v("首页")])],1),i("v-uni-view",{staticClass:"tab_item"},[i("uni-icons",{attrs:{type:"redo",size:"20"}}),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareOn.apply(void 0,arguments)}}},[t._v("分享")]),i("uni-popup",{ref:"sharepopup",attrs:{type:"bottom"}},[i("share-btn",{attrs:{sharedataTemp:t.sharedata}})],1)],1)],1),i("v-uni-view",{staticClass:"btn"},[i("v-uni-button",{staticClass:"btn-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buttonClick.apply(void 0,arguments)}}},[t._v("加入菜篮子")]),i("v-uni-button",{staticClass:"btn-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCart.apply(void 0,arguments)}}},[t._v("去看看")])],1)],1)],2)],1)},n=[]},"0d17":function(t,e,i){"use strict";i.r(e);var a=i("6c5b"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},"26d1":function(t,e,i){var a=i("6c54");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("967d").default;s("409ddc9b",a,!0,{sourceMap:!1,shadowMode:!1})},"5a7e":function(t,e,i){"use strict";var a=i("26d1"),s=i.n(a);s.a},"6c54":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.items[data-v-15887099]{display:flex;box-sizing:border-box;flex-wrap:wrap;font-family:楷体}.items .food-head[data-v-15887099]{position:relative}.items .food-head uni-image[data-v-15887099]{width:%?750?%;height:%?550?%;background-size:cover}.items .food-head .food-name[data-v-15887099]{position:absolute;bottom:%?-80?%;left:50%;margin-left:%?-37?%;padding:%?10?%;width:%?60?%;background-color:hsla(0,0%,100%,.81);opacity:.7;border-radius:%?30?%;text-align:center}.items .food-head .food-name .name-txt[data-v-15887099]{padding:%?13?% %?12?%;border:%?1?% solid #000;font-size:%?33?%;border-radius:%?20?%;color:#000;line-height:%?43?%}.items .food-inrduc[data-v-15887099]{width:%?710?%;margin-top:%?100?%;margin-bottom:%?40?%;margin-left:%?20?%;color:#979797}.items .food-inrduc .content[data-v-15887099]{margin-left:%?38?%;text-indent:2em}.items .meterials[data-v-15887099]{margin-left:%?50?%;margin-bottom:%?20?%}.items .goods_nav[data-v-15887099]{position:fixed;display:flex;bottom:0;width:100%;background-color:#fff}.items .goods_nav .tab[data-v-15887099]{display:flex;padding:0 5px;font-size:12px}.items .goods_nav .tab .tab_item[data-v-15887099]{margin:0 10px;margin-top:%?15?%}.items .goods_nav .tab .tab_item .tab-btn[data-v-15887099]{border:0}.items .goods_nav .tab .tab_item .tab-btn .share-btn[data-v-15887099]{height:%?38?%;padding:0;background-color:#fff;line-height:%?27?%;font-size:12px;border:none;outline:none}.items .goods_nav .btn[data-v-15887099]{float:right;display:flex;width:%?446?%;height:%?80?%;margin:5px 0;margin-right:10px;overflow:hidden}.items .goods_nav .btn uni-button[data-v-15887099]{height:%?80?%;line-height:%?80?%;font-size:14px;flex:1}.items .goods_nav .btn uni-button[data-v-15887099]::after{border:none}.items .goods_nav .btn .btn-left[data-v-15887099]{border-top-left-radius:%?200?%;border-bottom-left-radius:%?200?%;background-color:red;color:#fff}.items .goods_nav .btn .btn-right[data-v-15887099]{border-top-right-radius:%?200?%;border-bottom-right-radius:%?200?%;background-color:#ffa200;color:#fff}.items .inrduc-center[data-v-15887099]{text-align:center;color:orange}.items .inrduc-center .txt[data-v-15887099]{font-size:%?35?%;font-weight:520;padding:0 %?20?%}.items .inrduc-center .fuhao[data-v-15887099]{display:block}.items .food-ingred[data-v-15887099]{width:%?650?%;height:%?50?%;line-height:%?50?%;color:#333;margin:0 auto;border-bottom:1px solid #ccc}.items .food-ingred uni-text[data-v-15887099]{margin-left:%?130?%}.items .food-ingred .text-right[data-v-15887099]{margin-right:%?150?%;float:right}.items .food-step[data-v-15887099]{display:flex;box-sizing:border-box;flex-wrap:wrap}.items .food-step .inrduc-center[data-v-15887099]{margin-left:%?212?%}.items .food-step uni-image[data-v-15887099]{width:%?640?%;height:%?600?%;margin-left:%?55?%;background-size:cover}.items .food-step .food-step-desc[data-v-15887099]{width:%?670?%;margin-left:%?40?%;line-height:%?36?%;margin-bottom:%?20?%}.items .food-step .steps[data-v-15887099]{display:flex;box-sizing:border-box;margin:%?10?% 0 %?10?% %?50?%}.items .food-step .steps .desc[data-v-15887099]{width:%?580?%;padding-left:%?5?%;letter-spacing:%?2?%;line-height:%?40?%;color:#666;text-indent:1em}.items .food-step .food-step-main[data-v-15887099]{width:%?680?%}.items .footer[data-v-15887099]{width:%?750?%;height:%?100?%;background-color:#fff;margin:%?40?% auto}',""]),t.exports=e},"6c5b":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("dd2b"),i("aa9c");var s=a(i("fcf3")),n=a(i("2634")),o=a(i("2fdc")),d=a(i("9b1b")),r=i("8f59"),l=i("48b7"),c=a(i("0f84")),u=a(i("6762")),v=a(i("0a6e")),f={components:{uniPopup:c.default,shareBtn:u.default,uniIcons:v.default},data:function(){return{id:"",details:[],prepare:[],step1:[],len:"",step_length:"",count:"",flag:!1,title:"",obj:{},detailStorge:"",n:0,accessory:[],main:[],canIUseShareButton:!0,sharedata:{type:1,strShareUrl:"http://www.baidu.com",strShareTitle:"分享标题",strShareSummary:"分享总结",strShareImageUrl:"http://www.xuelejia.com/xljapp/h5/static/aboutUsLogo.png"}}},onLoad:function(t){this.id=t.id,this.getdetails(),this.detailStorge=uni.getStorageSync("flag"),console.log(this.detailStorge,"222222222222"),console.log(this.menus,"sssssssssss");for(var e=0;e<this.menus.length;e++)this.menus[e].id==this.id?this.flag=!0:this.flag=!1},onShareAppMessage:function(t){return{title:"美食分享",path:"pages/themeDetails/themeDetails"}},computed:(0,d.default)({},(0,r.mapState)({menus:"menus"})),methods:(0,d.default)((0,d.default)({},(0,r.mapMutations)({addToCarts:"addToCarts",addToMenus:"addToMenus"})),{},{getdetails:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var i,a,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.myRequestPost)("/rest/cks/api/cookbook/details/get-by-id/",{cookbookId:t.id});case 2:for(i=e.sent,console.log(i.cookbook,"kkkkkkkkkk"),t.details=i.cookbook,t.accessory=t.details.materials.accessory,t.main=t.details.materials.main,t.prepare=t.details.prepareSteps.steps,t.step1=t.details.steps,t.len=t.step1.length,a=0;a<t.details.steps.length;a++)for(s=0;s<t.details.prepareSteps.steps.length;s++)t.step1[a].desc==t.prepare[s].desc&&(t.step1.splice(a,1),t.n++);console.log(t.details,"00000000000"),console.log(t.prepare,"111111"),console.log(t.step1,"22222222"),console.log(t.len);case 13:case"end":return e.stop()}}),e)})))()},handleflag:function(){for(var t=this,e=0;e<this.menus.length;e++)this.menus[e].id==this.id?this.flag=!0:this.flag=!1;this.flag=!this.flag,this.title=this.flag?"收藏成功":"取消收藏",uni.showToast({title:this.title,icon:"success",duration:1e3}),uni.getStorage({key:"flag",success:function(e){console.log(e,(0,s.default)(e),"bbbbbbbbbbb"),t.id=t.details.id,t.obj=e.data,t.obj[t.id]=t.flag,uni.setStorage({key:"flag",data:t.obj,success:function(){console.log("huancun")}}),console.log(t.obj,"ddddddddd"),console.log(t.obj[t.id],"ccccccccc")}}),console.log(this.details,"aaaaaaaa");var i={id:this.details.id,name:this.details.name,num:this.details.collectCount,img:this.details.imgLarge,collected:this.flag};console.log(i,"eeeeeeee"),this.addToMenus(i)},previewImg:function(t){console.log(t);var e=[];e.push(t),console.log(e),uni.previewImage({current:0,urls:e})},goIndex:function(){uni.switchTab({url:"/pages/index/index"})},shareOn:function(){this.$refs.sharepopup.open()},buttonClick:function(t){if(console.log("buttonClick",t),this.details.productsInfo){var e={id:this.details.id,price:this.details.productsInfo[this.details.productsInfo.length-1].price,imgPath:this.details.productsInfo[this.details.productsInfo.length-1].img,name:this.details.productsInfo[this.details.productsInfo.length-1].materialName,slide_x:0};this.addToCarts(e),console.log(this.details.productsInfo)}else uni.showToast({title:"暂时不能提供参考价",icon:"none"})},goCart:function(){uni.navigateTo({url:"/pages/cart/cart"})}})};e.default=f},"851c":function(t,e,i){"use strict";i.r(e);var a=i("0c65"),s=i("0d17");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("5a7e");var o=i("828b"),d=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"15887099",null,!1,a["a"],void 0);e["default"]=d.exports}}]);